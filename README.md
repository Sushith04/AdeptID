# AdeptID Assessment

**1. About/Overview:** <br />
We design and build a running application with an endpoint that returns a job group with the corresponding total employment for a given city and the OCC code using the data in the `data.csv` file. This `data.csv` file includes employment numbers data from 3 U.S. cities.

<br />

**2. How to Run:** <br />

- Initially, we clone the repository from the given GitHub link.
- Open the command prompt and navigate to where the repository has been downloaded.
- Now before running the program, install all the requirements. For this run `pip install -r requirements.txt`
- After the requirements have been installed, run the program on the command line. For this use `python run.py` and for debugging purpose, use `pytest` to run the tests.
- We can also run the program by using `python -m gunicorn -w 4 -b 0.0.0.0:5000 run:app`, this will be deployed on the network used by the system.
- To make use of the services provided by the API, paste the following URL paths `/skills/reverse-skill-title`, `/api/get-employment-count` for **reverse string** and **employement count** services respectively along with the link generated in either of the previous two points.

<br />

**3. How to Use the Program:** <br />

- To use the program, we run the program first. Do the above steps to run the program.
- After running the program, the application is deployed on the local host.
- Using this link, we get hold on the api by using it on **Postman** software.

<br />

**4. Approach:**<br />

- The approach here is to convert the given **.csv** file to a **.JSON** formatted file for faster and better retrieval of the data.
- For the program to work, the input provided is processed using the JSON data processed using csv file.
- The inputs are validated before retrieving the data from JSON data.
- After validation of the inputs, we make use of the **JSON** formed data and send the job group and employment count related to the given input.
- The output is generated by the server and the response is sent to the user as JSON formatted schema.

<br />

**5. Assumptions:**<br />

- The **.csv** file is converted to a **JSON** format data so that data will be retrieved faster.
- We assumed the entry point to be `gunicorn` module so that multiple users can make use of the application at the same time.
- The inputs where invalid data was given by the user were handled gracefully.
- For testing purposes, we make use of `pytest` module.
- To validate the outputs generated by the application we performed 65-70 different tests.

<br />

**6. Deployment on AWS:**<br />

- First step is to create a **Dockerfile** in our repository.
- Now we create a public repository in the AWS's **Elastic Container Registry (ECR)**. In this, we create an image and upload the image of our application (which is built and pushed using docker) using the push commands that are given in the repository created.
- After the image has been uploaded, we create a new cluster using the **AWS's Elastic Container Service**. This creates an **EC2** instance where a new public address will be provided.
- After this, we create a task definition with a new container using the **5000** port.
- Now coming back to the cluster we created, a new task is ran using the **EC2** launch type.
- In the previously created EC2 instance, we edit the inbound rules and add **IPv4**, **IPv6 addresses**, **5000 port** in the security rules.
- Now the application API has been hosted on a public address. This can be used to get the job group and the corresponding total employment.

<br />

**7. Hosted public API:**<br />

- **Reverse string service:** `http://44.204.205.166:5000/skills/reverse-skill-title`
- **Employment count service:** `http://44.204.205.166:5000/api/get-employment-count`
